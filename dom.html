<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Manipulation</title>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <style>
        #demoText {
            color: blue;
            font-size: 20px;
        }
        #demoImage {
            width: 200px;
            height: 200px;
        }
    </style>
</head>
<body>
    <h2 id="demoText">Hello, I am a text</h2>
    <button id="changeTextBtn">Change Text</button><br><br>

    <p class="para">This is paragraph 1</p>
    <p class="para">This is paragraph 2</p>

    <img id="demoImage" src="https://via.placeholder.com/200" alt="demo image"><br>
    <button onclick="changeImage()">Change Image</button><br><br>

    <div id="parentDiv">
        <p>Parent Paragraph</p>
    </div>
    <button onclick="addNode()">Add Node</button>
    <button onclick="deleteNode()">Delete Node</button>

    <script>
        // DOM Manipulation
        document.getElementById("changeTextBtn").onclick = function() {
            document.getElementById("demoText").innerHTML = "Text changed using JS!";
            document.getElementById("demoText").style.color = "red";
        }

        function changeImage() {
            document.getElementById("demoImage").src = "https://via.placeholder.com/200/FF0000/FFFFFF?text=New+Image";
        }

        function addNode() {
            let newNode = document.createElement("p");
            let textNode = document.createTextNode("This is a new paragraph added.");
            newNode.appendChild(textNode);
            document.getElementById("parentDiv").appendChild(newNode);
        }

        function deleteNode() {
            let parent = document.getElementById("parentDiv");
            if(parent.lastChild) {
                parent.removeChild(parent.lastChild);
            }
        }

        // Access elements by class name
        let paras = document.getElementsByClassName("para");
        for(let i=0;i<paras.length;i++){
            paras[i].style.fontWeight = "bold";
        }

        // Access elements by tag name
        let paragraphs = document.getElementsByTagName("p");
        for(let p of paragraphs){
            p.style.fontFamily = "Arial";
        }

        // jQuery operations
        $(document).ready(function(){
            // Change button text
            $("#changeTextBtn").text("Click Me (jQuery)");

            // Set background image
            $("body").css("background-image", "url('https://via.placeholder.com/800x400')");

            // Access form data using jQuery
            $("form").on("submit", function(e){
                e.preventDefault();
                let username = $("#username").val();
                alert("Username from jQuery: " + username);
            });

            // Add attribute using jQuery
            $("#demoImage").attr("title", "This is an image");
        });
    </script>
</body>
</html>
